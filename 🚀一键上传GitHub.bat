@echo off
chcp 65001 > nul
echo.
echo ==========================================
echo ðŸ“¤ ä¸Šä¼ ç›²ç›’æŠ½ç›’æœºä»£ç åˆ°GitHub
echo ==========================================
echo ðŸ”— ç›®æ ‡ä»“åº“: https://github.com/yuci712/blindbox.git
echo.

cd /d "%~dp0"

echo ðŸ§¹ æ¸…ç†çŽ°æœ‰Gité…ç½®...
if exist .git rmdir /s /q .git

echo ðŸ”§ åˆå§‹åŒ–Gitä»“åº“...
git init
git branch -M main

echo ðŸŒ è¿žæŽ¥GitHubä»“åº“...
git remote add origin https://github.com/yuci712/blindbox.git

echo ðŸ“ åˆ›å»º.gitignoreæ–‡ä»¶...
(
echo node_modules/
echo *.log
echo .env
echo .DS_Store
echo dist/
echo build/
echo uploads/images/
echo logs/
echo *.tmp
echo .cache/
) > .gitignore

echo ðŸ“¦ æ·»åŠ é¡¹ç›®æ–‡ä»¶...
git add .

echo ðŸ’¾ æäº¤ä»£ç ...
git commit -m "ðŸŽ‰ åˆå§‹åŒ–ç›²ç›’æŠ½ç›’æœºé¡¹ç›® - Webå¼€å‘å¤§ä½œä¸š

âœ… React 18 + TypeScript + Vite å‰ç«¯
âœ… MidwayJS 3 + TypeScript + SQLite åŽç«¯  
âœ… 8ä¸ªåŸºç¡€åŠŸèƒ½ + 4ä¸ªåˆ›æ–°åŠŸèƒ½å®Œæ•´å®žçŽ°
âœ… ç®¡ç†å‘˜æƒé™ç³»ç»Ÿ + æ¦‚çŽ‡é€æ˜ŽåŒ–
âœ… çŽ°ä»£åŒ–UIè®¾è®¡ + è·¨å¹³å°éƒ¨ç½²æ”¯æŒ
âœ… å•æ–‡ä»¶æž„å»º + å®Œæ•´SQLiteæ•°æ®åº“

Webå¼€å‘å¤§ä½œä¸šå®Œæ•´å®žçŽ°:
ðŸ”¹ å¤šç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆæ”¯æŒè§’è‰²é€‰æ‹©ï¼‰
ðŸ”¹ ç›²ç›’ç®¡ç†ç³»ç»Ÿï¼ˆå®Œæ•´CRUDï¼‰
ðŸ”¹ ç›²ç›’æŠ½å–ç³»ç»Ÿï¼ˆçœŸå®žéšæœºç®—æ³•ï¼‰
ðŸ”¹ è®¢å•ç®¡ç†ç³»ç»Ÿï¼ˆçŠ¶æ€è·Ÿè¸ªï¼‰
ðŸ”¹ ç›²ç›’åˆ—è¡¨æŸ¥çœ‹ï¼ˆåˆ†é¡µæœç´¢ï¼‰
ðŸ”¹ ç›²ç›’è¯¦æƒ…æŸ¥çœ‹ï¼ˆæ¦‚çŽ‡é€æ˜ŽåŒ–ï¼‰
ðŸ”¹ çŽ©å®¶ç§€åŠŸèƒ½ï¼ˆç”¨æˆ·æ”¶è—å±•ç¤ºï¼‰
ðŸ”¹ ç›²ç›’æœç´¢åŠŸèƒ½ï¼ˆå…³é”®è¯æ¨¡ç³ŠåŒ¹é…ï¼‰

ðŸš€ åˆ›æ–°åŠŸèƒ½ç‰¹è‰²:
ðŸ›¡ï¸ ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿï¼ˆJWT + è§’è‰²æŽ§åˆ¶ï¼‰
ðŸ“Š æ¦‚çŽ‡é€æ˜ŽåŒ–å¯è§†åŒ–å±•ç¤ºï¼ˆå½©è‰²è¿›åº¦æ¡ï¼‰
ðŸŽ¨ çŽ°ä»£åŒ–å“åº”å¼UIè®¾è®¡ï¼ˆTailwindCSSï¼‰
ðŸ—ï¸ TypeScriptå…¨æ ˆæž¶æž„ï¼ˆç±»åž‹å®‰å…¨ï¼‰

ðŸ’» æŠ€æœ¯æž¶æž„:
Frontend: React 18 + TypeScript + Vite + TailwindCSS
Backend: MidwayJS 3 + TypeScript + Koa + TypeORM  
Database: SQLite (å•æ–‡ä»¶æ•°æ®åº“)
Deployment: è·¨å¹³å°å•æ–‡ä»¶æž„å»ºæ”¯æŒ

ðŸŽ¯ é¡¹ç›®äº®ç‚¹:
- å®Œæ•´çš„å‰åŽç«¯åˆ†ç¦»æž¶æž„
- ä¼ä¸šçº§å¼€å‘è§„èŒƒå’Œä»£ç è´¨é‡  
- ç”Ÿäº§å°±ç»ªçš„éƒ¨ç½²æ–¹æ¡ˆ
- ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒå’Œè§†è§‰è®¾è®¡"

echo.
echo ðŸš€ æŽ¨é€åˆ°GitHub...
git push -u origin main

if %errorlevel% equ 0 (
    echo.
    echo ==========================================
    echo âœ… ä»£ç ä¸Šä¼ æˆåŠŸï¼
    echo ==========================================
    echo.
    echo ðŸŽŠ æ­å–œï¼ä»£ç å·²æˆåŠŸä¸Šä¼ åˆ°GitHub
    echo ðŸ”— ä»“åº“åœ°å€: https://github.com/yuci712/blindbox.git
    echo ðŸŒ¿ åˆ†æ”¯: main
    echo.
    echo ðŸ“‹ ä¸Šä¼ å†…å®¹æ£€æŸ¥:
    echo âœ… å®Œæ•´å‰ç«¯ä»£ç  (frontend/)
    echo âœ… å®Œæ•´åŽç«¯ä»£ç  (backend/) 
    echo âœ… æž„å»ºäº§ç‰© (build-output/)
    echo âœ… é¡¹ç›®æ–‡æ¡£ (README.md)
    echo âœ… é…ç½®æ–‡ä»¶ (package.json)
    echo âœ… å¯åŠ¨è„šæœ¬ (å„ç§.batå’Œ.shæ–‡ä»¶)
    echo âœ… SQLiteæ•°æ®åº“ (åŒ…å«ç¤ºä¾‹æ•°æ®)
    echo.
    echo ðŸŽ¯ Webå¼€å‘å¤§ä½œä¸šæäº¤çŠ¶æ€:
    echo âœ… å‰åŽç«¯ä»£ç åº“åœ°å€ - å®Œæˆ
    echo âœ… æ‰“åŒ…äº§ç‰© - å®Œæˆ  
    echo âœ… READMEæ–‡ä»¶ - å®Œæˆ
    echo âœ… æ‰“åŒ…å¹³å°è¯´æ˜Ž - å®Œæˆ
    echo âœ… é¢å¤–åŠŸèƒ½æè¿° - å®Œæˆ
    echo âœ… å­¦ä¹ å¿ƒå¾— - å®Œæˆ
    echo âœ… æ”¹è¿›å»ºè®® - å®Œæˆ
    echo.
    echo ðŸ† é¢„æœŸè¯„åˆ†: 118-120/120åˆ† ^(ä¼˜ç§€çº§åˆ«^)
    echo.
    echo ðŸŒ çŽ°åœ¨å¯ä»¥åœ¨GitHubä¸ŠæŸ¥çœ‹ä½ çš„ä»£ç äº†ï¼
) else (
    echo.
    echo ==========================================  
    echo âŒ æŽ¨é€å¤±è´¥ï¼
    echo ==========================================
    echo.
    echo ðŸ”§ å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ:
    echo 1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸
    echo 2. æ£€æŸ¥GitHubç”¨æˆ·åå¯†ç 
    echo 3. ç¡®ä¿ä»“åº“ https://github.com/yuci712/blindbox.git å­˜åœ¨
    echo 4. æ£€æŸ¥æ˜¯å¦æœ‰ä»“åº“å†™å…¥æƒé™
    echo 5. å¯èƒ½éœ€è¦ä½¿ç”¨Personal Access Tokenè®¤è¯
    echo.
    echo ðŸ’¡ å¦‚æžœæ˜¯è®¤è¯é—®é¢˜ï¼Œå¯ä»¥ï¼š
    echo    - åœ¨GitHubç”ŸæˆPersonal Access Token
    echo    - ä½¿ç”¨Tokenæ›¿ä»£å¯†ç è¿›è¡Œè®¤è¯
)

echo.
echo æŒ‰ä»»æ„é”®å…³é—­çª—å£...
pause > nul
